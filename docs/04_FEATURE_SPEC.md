# RUboard - 기능 명세서

## 1. 제품 관리

### 1.1 제품 목록 페이지

**경로**: `/products`

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  제품 관리                              [엑셀 임포트] [+ 제품 등록] │
├─────────────────────────────────────────────────────────────────┤
│  [브랜드 ▼] [카테고리 ▼] [상태 ▼]  [검색어 입력...  🔍]          │
├─────────────────────────────────────────────────────────────────┤
│  품목코드  │ 브랜드   │ 제품명        │ 바코드       │ 입수량 │ 상태   │
│──────────────────────────────────────────────────────────────────│
│  PDSP009  │ PEDISON │ 프로트 샴푸   │ 880292900283 │  12   │ 활성  │
│  VMSM001  │ VALMONA │ 아쿠아 마스크 │ 880292900123 │  24   │ 활성  │
│  ...      │ ...     │ ...          │ ...          │ ...   │ ...   │
├─────────────────────────────────────────────────────────────────┤
│  ◀ 이전                1 2 3 4 5                        다음 ▶   │
└─────────────────────────────────────────────────────────────────┘
```

**기능**:
| ID | 기능 | 설명 |
|----|------|------|
| PM-01 | 목록 조회 | 제품 목록 페이지네이션 표시 |
| PM-02 | 브랜드 필터 | 브랜드별 필터링 |
| PM-03 | 카테고리 필터 | 카테고리별 필터링 |
| PM-04 | 상태 필터 | active/inactive 필터링 |
| PM-05 | 검색 | 품목코드, 제품명, 바코드 검색 |
| PM-06 | 상세 이동 | 행 클릭 시 상세 페이지 이동 |

### 1.2 엑셀 임포트

**경로**: `/products` (모달)

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  엑셀 파일 임포트                                          [X]   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [파일 선택...] sample_products.xlsx                            │
│                                                                 │
│  ※ 지원 컬럼: 품목코드(필수), 품목명(필수), 브랜드, 바코드,      │
│              입수량, 단가 등                                    │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  파싱 결과: 150개 중 148개 유효, 2개 오류                        │
│                                                                 │
│  [상태] │ 품목코드 │ 브랜드  │ 품목명       │ 오류              │
│─────────────────────────────────────────────────────────────────│
│   OK   │ PDSP009 │ PEDISON │ 프로트 샴푸  │                   │
│   OK   │ VMSM001 │ VALMONA │ 아쿠아 마스크 │                   │
│  오류  │         │ BATHPA  │ 바디워시     │ 품목코드 필수      │
│  오류  │ XXX001  │         │             │ 품목명 필수        │
├─────────────────────────────────────────────────────────────────┤
│                           [취소]  [148개 제품 임포트]            │
└─────────────────────────────────────────────────────────────────┘
```

**기능**:
| ID | 기능 | 설명 |
|----|------|------|
| PI-01 | 파일 선택 | .xlsx, .xls 파일 선택 |
| PI-02 | 헤더 자동 인식 | 품목코드/제품코드 등 다양한 헤더명 지원 |
| PI-03 | 유효성 검사 | 필수값(품목코드, 품목명) 체크 |
| PI-04 | 미리보기 | 파싱 결과 테이블 표시 |
| PI-05 | 오류 표시 | 오류 있는 행 하이라이트 |
| PI-06 | 임포트 실행 | 유효한 데이터만 DB 저장 |
| PI-07 | 업서트 | 품목코드 기준 신규/수정 구분 |

**지원 컬럼명 매핑**:
```javascript
{
  product_code: ['품목코드', '제품코드', 'product_code', 'sku'],
  name_ko: ['품목명', '제품명', 'name_ko', '한글명'],
  brand: ['브랜드', 'brand'],
  barcode: ['바코드', 'barcode'],
  pcs_per_carton: ['입수량', 'pcs / 1 CTN'],
  base_price_krw: ['본사공급단가', '단가', 'base_price_krw']
}
```

### 1.3 가격 관리

**위치**: 제품 상세 페이지 내 탭 또는 섹션

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  가격 정보                                        [가격 수정]    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  본사 공급가:    ₩15,000                                        │
│  커미션:         ₩2,000                                         │
│  ──────────────────────────                                     │
│  최종가:         ₩17,000                                        │
│                                                                 │
│  적용일: 2026-01-01 ~                                           │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**접근 권한**:
| 역할 | 본사가 | 커미션 | 최종가 |
|------|--------|--------|--------|
| 바이어 | - | - | 조회 |
| 매니저 | 조회 | 조회/수정 | 조회 |
| 공급사 | 조회/수정 | 조회 | 조회 |

---

## 2. 발주 관리

### 2.1 발주 목록 페이지

**경로**: `/orders`

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  발주 관리                                       [+ 새 발주서]    │
├─────────────────────────────────────────────────────────────────┤
│  [상태별 카드]                                                   │
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐          │
│  │전체  │ │작성중│ │ 확정 │ │ 패킹 │ │ 출하 │ │ 완료 │          │
│  │ 45   │ │  3   │ │  5   │ │  2   │ │  10  │ │  25  │          │
│  └──────┘ └──────┘ └──────┘ └──────┘ └──────┘ └──────┘          │
├─────────────────────────────────────────────────────────────────┤
│  [상태 ▼]                                     5개 발주           │
├─────────────────────────────────────────────────────────────────┤
│  발주번호     │ 바이어  │ 발주일   │ 수량   │ 금액      │ 상태   │
│──────────────────────────────────────────────────────────────────│
│  KZ-2026-0005│ KZ Buy │ 01-15   │ 1,200 │ ₩18,000,000│ 확정  │
│  KZ-2026-0004│ KZ Buy │ 01-12   │  800  │ ₩12,500,000│ 패킹  │
│  ...         │ ...    │ ...     │ ...   │ ...        │ ...   │
└─────────────────────────────────────────────────────────────────┘
```

**기능**:
| ID | 기능 | 설명 |
|----|------|------|
| OL-01 | 상태별 카운트 | 상태별 발주 건수 카드 |
| OL-02 | 상태 필터 | 상태별 목록 필터링 |
| OL-03 | 목록 조회 | 발주 목록 표시 |
| OL-04 | 상세 이동 | 행 클릭 시 상세 페이지 |

### 2.2 발주서 작성 (DRAFT)

**경로**: `/orders/new`

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  새 발주서 작성                                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  발주번호: (자동 생성)                                           │
│  발주일:   2026-01-15                                           │
│  희망 배송지: [                    ]                             │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  제품 선택                              [제품 검색/추가]         │
├─────────────────────────────────────────────────────────────────┤
│  품목코드 │ 제품명        │ 단가    │ 수량  │ 소계      │ 삭제   │
│──────────────────────────────────────────────────────────────────│
│  PDSP009 │ 프로트 샴푸   │ ₩17,000 │ [100] │ ₩1,700,000│  🗑   │
│  VMSM001 │ 아쿠아 마스크 │ ₩25,000 │ [50]  │ ₩1,250,000│  🗑   │
│──────────────────────────────────────────────────────────────────│
│                             총 수량: 150 | 총 금액: ₩2,950,000   │
├─────────────────────────────────────────────────────────────────┤
│  비고:                                                          │
│  [                                                      ]       │
├─────────────────────────────────────────────────────────────────┤
│                           [취소]  [임시저장]  [발주 제출]        │
└─────────────────────────────────────────────────────────────────┘
```

**기능**:
| ID | 기능 | 설명 |
|----|------|------|
| OC-01 | 제품 검색 | 품목코드/제품명으로 검색 |
| OC-02 | 제품 추가 | 선택한 제품을 발주 목록에 추가 |
| OC-03 | 수량 입력 | 각 제품별 수량 입력 |
| OC-04 | 자동 계산 | 소계, 총합계 자동 계산 |
| OC-05 | 제품 삭제 | 목록에서 제품 제거 |
| OC-06 | 임시 저장 | DRAFT 상태로 저장 |
| OC-07 | 발주 제출 | CONFIRMED 상태로 변경 (또는 검토 요청) |

### 2.3 발주 상세/수정

**경로**: `/orders/[id]`

**상태별 화면**:

#### DRAFT 상태 (바이어)
```
┌─────────────────────────────────────────────────────────────────┐
│  발주서 #KZ-2026-0005                    [삭제]  [수정]  [제출]  │
├─────────────────────────────────────────────────────────────────┤
│  (발주서 작성과 동일한 UI, 수정 가능)                            │
└─────────────────────────────────────────────────────────────────┘
```

#### CONFIRMED 상태 (매니저)
```
┌─────────────────────────────────────────────────────────────────┐
│  발주서 #KZ-2026-0005                        [수량 조정]  [확정] │
├─────────────────────────────────────────────────────────────────┤
│  상태: [확정] ─────○─────○─────○─────○                          │
│                                                                 │
│  품목코드 │ 제품명     │ 요청수량 │ 확정수량 │ 단가   │ 소계     │
│──────────────────────────────────────────────────────────────────│
│  PDSP009 │ 프로트샴푸 │   100   │  [100]  │ ₩17,000│ ₩1,700,000│
│  VMSM001 │ 아쿠아마스크│   50    │  [48]   │ ₩25,000│ ₩1,200,000│
│──────────────────────────────────────────────────────────────────│
│  ※ 수량 조정 시 이력이 자동 기록됩니다                           │
└─────────────────────────────────────────────────────────────────┘
```

#### PACKING 상태 (공급사)
```
┌─────────────────────────────────────────────────────────────────┐
│  발주서 #KZ-2026-0005                 [패킹리스트 작성]  [출고]  │
├─────────────────────────────────────────────────────────────────┤
│  (품목 목록 - 읽기 전용)                                        │
│                                                                 │
│  패킹리스트 정보:                                               │
│  PL번호: [PL-2026-0005-01]                                      │
│  인보이스번호: [INV-2026-0005-01]                               │
│  ...                                                            │
└─────────────────────────────────────────────────────────────────┘
```

### 2.4 발주 이력 조회

**위치**: 발주 상세 페이지 하단

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  변경 이력                                                       │
├─────────────────────────────────────────────────────────────────┤
│  2026-01-15 10:30  │  매니저  │  수량조정 (PDSP009: 120→100)    │
│  2026-01-13 14:00  │  바이어  │  발주 제출                       │
│  2026-01-10 09:00  │  바이어  │  발주 생성                       │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 패킹리스트/인보이스

### 3.1 패킹리스트 작성

**경로**: 발주 상세 페이지 내

**입력 항목**:
- 수출자 정보 (회사명, 주소, 전화, 팩스)
- 수하인 정보 (회사명, 주소, 전화, 이메일)
- 배송 정보 (선적항, 도착지, 출항일, 선박명)
- 결제 조건

**자동 계산 항목**:
- 품목별 박스수 (수량 ÷ 입수량)
- 품목별 순중량/총중량
- 품목별 CBM
- 합계

### 3.2 PDF 생성

**기능**:
| ID | 기능 | 설명 |
|----|------|------|
| PD-01 | 패킹리스트 PDF | 패킹 정보 기반 PDF 생성 |
| PD-02 | 인보이스 PDF | 금액 포함 PDF 생성 |
| PD-03 | 다운로드 | PDF 파일 다운로드 |
| PD-04 | 미리보기 | 브라우저에서 미리보기 |

---

## 4. 대시보드

### 4.1 메인 대시보드

**경로**: `/` (루트)

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  대시보드                                                        │
├─────────────────────────────────────────────────────────────────┤
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────┐ │
│  │  등록 제품   │ │  전체 발주   │ │   진행 중    │ │ 출하완료 │ │
│  │     245     │ │     45      │ │     10      │ │    25    │ │
│  │  제품 관리  │ │  발주 관리  │ │  확정/패킹   │ │  이번달  │ │
│  └──────────────┘ └──────────────┘ └──────────────┘ └──────────┘ │
├─────────────────────────────────────────────────────────────────┤
│  최근 발주                          │  발주 상태 현황            │
│  ┌────────────────────────────────┐ │  ┌────────────────────────┐│
│  │ KZ-2026-0005 | KZ Buy | 확정  │ │  │ 작성중  ████ 3건       ││
│  │ KZ-2026-0004 | KZ Buy | 패킹  │ │  │ 확정    ██████ 5건     ││
│  │ RU-2026-0003 | RU Buy | 출하  │ │  │ 패킹    ██ 2건         ││
│  │ ...                           │ │  │ 출하    ██████████ 10건││
│  └────────────────────────────────┘ │  │ 완료    ████████████ 25││
│                                     │  └────────────────────────┘│
├─────────────────────────────────────────────────────────────────┤
│  빠른 액션                                                       │
│  [+ 새 발주서]  [제품 관리]  [재고 현황]  [발주 목록]             │
└─────────────────────────────────────────────────────────────────┘
```

---

## 5. 보조 기능

### 5.1 재고 현황 (조회 전용)

**경로**: `/inventory`

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  재고 현황                              (ERP 연동 | 마지막 동기화: 10분 전)
├─────────────────────────────────────────────────────────────────┤
│  [검색...]                                                       │
├─────────────────────────────────────────────────────────────────┤
│  품목코드 │ 제품명        │ 현재고 │ 유통기한   │ 보관위치       │
│──────────────────────────────────────────────────────────────────│
│  PDSP009 │ 프로트 샴푸   │ 1,200 │ 2027-06-30 │ 창고 A-12     │
│  VMSM001 │ 아쿠아 마스크 │  800  │ 2027-08-15 │ 창고 B-05     │
└─────────────────────────────────────────────────────────────────┘
```

**주의**: 이 데이터는 ERP에서 연동되며, RUboard에서 수정 불가

### 5.2 생산 일정 (조회 전용)

**경로**: `/production`

**화면 구성**:
```
┌─────────────────────────────────────────────────────────────────┐
│  생산 일정                                                       │
├─────────────────────────────────────────────────────────────────┤
│  품목코드 │ 제품명        │ 생산 예정일 │ 예정 수량 │ 상태      │
│──────────────────────────────────────────────────────────────────│
│  PDSP009 │ 프로트 샴푸   │ 2026-02-01 │  5,000   │ 예정      │
│  VMSM001 │ 아쿠아 마스크 │ 2026-02-15 │  3,000   │ 진행중    │
└─────────────────────────────────────────────────────────────────┘
```

**주의**: 기존 데이터 마이그레이션, 조회 전용
